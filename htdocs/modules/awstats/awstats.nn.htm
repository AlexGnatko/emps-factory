{{script src="/mjs/comp-formats/formats.js" defer=1}}
{{script src="/mjs/awstats/awstats.js" defer=1}}

<h1>AWStats: {{$hostname}}</h1>

<div id="awstats-app">
    <div class="content" v-if="index.GENERAL !== undefined">
        <hr size="1"/>
        <h2>General</h2>
        <div class="columns is-multiline is-mobile">
            <div class="column is-narrow">
                <div class="is-size-7">Last updated</div>
                <div class="has-text-weight-bold">{{ index.GENERAL._LastUpdate.cols[0]|ltime }}</div>
            </div>
            <div class="column is-narrow">
                <div class="is-size-7">Last line</div>
                <div class="has-text-weight-bold">{{ index.GENERAL._LastLine.cols[0]|ltime }}</div>
            </div>
            <div class="column is-narrow">
                <div class="is-size-7">Total visits</div>
                <div class="has-text-weight-bold">{{ index.GENERAL._TotalVisits.cols[0] }}</div>
            </div>
            <div class="column is-narrow">
                <div class="is-size-7">Total unique</div>
                <div class="has-text-weight-bold">{{ index.GENERAL._TotalUnique.cols[0] }}</div>
            </div>

            <div class="column is-narrow">
                <div class="is-size-7">Pages</div>
                <div class="has-text-weight-bold">{{ index.DOMAIN._ip.cols[0] }}</div>
            </div>
            <div class="column is-narrow">
                <div class="is-size-7">Hits</div>
                <div class="has-text-weight-bold">{{ index.DOMAIN._ip.cols[1] }}</div>
            </div>
            <div class="column is-narrow">
                <div class="is-size-7">Bandwidth</div>
                <div class="has-text-weight-bold">{{ index.DOMAIN._ip.cols[2]|bytes }}</div>
            </div>
        </div>

        <div class="columns">
            <div class="column">
                <h2>Days</h2>
                <div class="table-container">
                    <table class="table is-bordered">
                        <tr>
                            <td width="25%">Day</td>
                            <td width="25%" class="has-text-right">Pages</td>
                            <td width="25%" class="has-text-right">Hits</td>
                            <td width="25%" class="has-text-right">Bandwidth</td>
                        </tr>

                        <tbody>
                        <tr v-for="row in index.DAY">
                            <td>{{ row.name|ldate }}</td>
                            <td class="has-text-right">{{ row.cols[0] }}</td>
                            <td class="has-text-right">{{ row.cols[1] }}</td>
                            <td class="has-text-right">{{ row.cols[2]|bytes }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="column">
                <h2>Hours</h2>
                <div class="table-container">
                    <table class="table is-bordered">
                        <tr>
                            <td width="25%">Hour</td>
                            <td width="25%" class="has-text-right">Pages</td>
                            <td width="25%" class="has-text-right">Hits</td>
                            <td width="25%" class="has-text-right">Bandwidth</td>
                        </tr>

                        <tbody>
                        <tr v-for="row in index.TIME">
                            <td>{{ row.name }}</td>
                            <td class="has-text-right">{{ row.cols[0] }}</td>
                            <td class="has-text-right">{{ row.cols[1] }}</td>
                            <td class="has-text-right">{{ row.cols[2]|bytes }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="column">
                <h2>Visitors</h2>
                <div class="table-container">
                    <table class="table is-bordered">
                        <tr>
                            <td width="20%">Host</td>
                            <td width="12%" class="has-text-right">Pages</td>
                            <td width="13%" class="has-text-right">Hits</td>
                            <td width="10%" class="has-text-right">Bandwidth</td>
                            <td width="15%" class="has-text-right">Last visit</td>
                            <td width="15%" class="has-text-right">Last visit start</td>
                            <td width="25%" class="has-text-right">Last page</td>
                        </tr>

                        <tbody>
                        <tr v-for="row in index.VISITOR">
                            <td>{{ row.name }}</td>
                            <td class="has-text-right">{{ row.cols[0] }}</td>
                            <td class="has-text-right">{{ row.cols[1] }}</td>
                            <td class="has-text-right">{{ row.cols[2]|bytes }}</td>
                            <td class="has-text-right">{{ row.cols[3]|ltime }}</td>
                            <td class="has-text-right">{{ row.cols[4]|ltime }}</td>
                            <td class="has-text-right">{{ row.cols[5] }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <p>&nbsp;</p>
    <hr size="1" />
    {{ index }}
</div>
